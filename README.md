# networkingbot 
Бот для телеграм на python. Предназначение знакомить людей между собой.

## Начало работы
Скачать файлы. На дб (postgresql) установить скрипт db.sql. Изменить config.py

## Конфигурация
В файле config.py заполнить
DB = 'postgresql'
DB_HOST = <postgresql host>
DB_USER = <postgresql user>
DB_PASSWORD = <postgresql password>
DB_DATABASE = <postgresql database>
TELEGRAM_KEY = <ключ телеграм боты>
MESSAGE_TIME = <время отправки сообщений UTC>
  
## Деплой на Heroku
1. Создать пользователя Heroku
2. Создать приложение
3. Скачать Heroku Cli, залогиниться
4. С помощью git залить приложение 
5. Запустить
  ```bash
  heroku ps:scale worker=1 -a <имя приложения>
  ```
  
## Роль администратора
Администратор может разрешать получать по две заявки (к нему приходит сообщения о каждой регистрации). Для того чтобы сделать пользователя администратором необходимо в дб по данном пользователю в таблице users поставить is_admin = 1
  
## Описание работы
после запуска бота (/start) пользователю необходимо ответить на вопросы чтобы составить профиль. В понедельник по времени config.MESSAGE_TIME будет отправлен запрос о количествах участий на текущей неделе. В зависимости от выбора будет прислана пара во вторник/четверг/субботу. В воскресенье придет небольшой опрос по количеству встреч.
